<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª - Ø·Ø±ÙŠÙ‚ Ø§Ù„ÙŠÙ‚ÙŠÙ†</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700;800&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-green: #0d4d2f;
            --secondary-green: #1a6b47;
            --light-green: #2d8a5e;
            --gold: #d4af37;
            --gold-light: #f4d03f;
            --dark-overlay: rgba(0, 0, 0, 0.3);
            --card-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            --card-shadow-hover: 0 8px 25px rgba(0, 0, 0, 0.25);
        }

        body {
            font-family: 'Cairo', 'Amiri', sans-serif;
            background: linear-gradient(180deg, var(--primary-green) 0%, var(--secondary-green) 50%, var(--light-green) 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        .container {
            max-width: 430px;
            margin: 0 auto;
            padding-bottom: 30px;
        }

        /* Header Section */
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 20px;
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--secondary-green) 100%);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .header-icon {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .header-icon svg {
            width: 32px;
            height: 32px;
            fill: #fff;
        }

        .header-title {
            text-align: center;
            flex: 1;
        }

        .header-title .arabic {
            font-family: 'Amiri', serif;
            font-size: 22px;
            font-weight: 700;
            color: var(--gold);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            display: block;
        }

        .header-title .english {
            font-family: 'Cairo', sans-serif;
            font-size: 11px;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.85);
            letter-spacing: 1px;
            display: block;
            margin-top: 2px;
        }

        /* Content Section */
        .content-section {
            padding: 20px 15px;
        }

        /* Settings Card */
        .settings-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .settings-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--gold) 0%, var(--gold-light) 50%, var(--gold) 100%);
        }

        .settings-card h2 {
            font-family: 'Amiri', serif;
            font-size: 20px;
            font-weight: 700;
            color: var(--gold);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .settings-card h2 .icon {
            font-size: 24px;
        }

        .settings-card p {
            font-family: 'Cairo', sans-serif;
            font-size: 14px;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 12px;
        }

        .settings-card p:last-child {
            margin-bottom: 0;
        }

        .settings-card ul {
            list-style: none;
            padding: 0;
            margin: 10px 0;
        }

        .settings-card ul li {
            font-family: 'Cairo', sans-serif;
            font-size: 14px;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.9);
            padding-right: 20px;
            position: relative;
            margin-bottom: 8px;
        }

        .settings-card ul li::before {
            content: 'â€¢';
            position: absolute;
            right: 0;
            color: var(--gold);
            font-weight: bold;
            font-size: 20px;
        }

        /* Donation Section */
        .donation-section {
            background: linear-gradient(145deg, rgba(212, 175, 55, 0.2) 0%, rgba(212, 175, 55, 0.1) 100%);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: var(--card-shadow);
            text-align: center;
            border: 2px solid rgba(212, 175, 55, 0.3);
        }

        .donation-section h2 {
            font-family: 'Amiri', serif;
            font-size: 20px;
            font-weight: 700;
            color: var(--gold);
            margin-bottom: 15px;
        }

        .donation-section p {
            font-family: 'Cairo', sans-serif;
            font-size: 14px;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 15px;
        }

        .donation-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .donation-btn {
            background: linear-gradient(145deg, var(--gold) 0%, #c4a030 100%);
            color: var(--primary-green);
            border: none;
            border-radius: 12px;
            padding: 14px 20px;
            font-family: 'Cairo', sans-serif;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .donation-btn:active {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(212, 175, 55, 0.4);
        }

        .donation-btn .icon {
            font-size: 20px;
        }

        /* Contact Section */
        .contact-section {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 20px;
            box-shadow: var(--card-shadow);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .contact-section h2 {
            font-family: 'Amiri', serif;
            font-size: 20px;
            font-weight: 700;
            color: var(--gold);
            margin-bottom: 15px;
            text-align: center;
        }

        .contact-section p {
            font-family: 'Cairo', sans-serif;
            font-size: 14px;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.9);
            text-align: center;
            margin-bottom: 15px;
        }

        .contact-email {
            background: rgba(212, 175, 55, 0.2);
            border-radius: 10px;
            padding: 12px 20px;
            text-align: center;
            font-family: 'Cairo', sans-serif;
            font-size: 15px;
            font-weight: 600;
            color: var(--gold-light);
            border: 1px solid rgba(212, 175, 55, 0.3);
        }

        /* Decorative Elements */
        .pattern-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            opacity: 0.03;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0L60 30L30 60L0 30L30 0z' fill='%23d4af37' fill-opacity='1'/%3E%3C/svg%3E");
            z-index: 0;
        }

        /* Highlight Box */
        .highlight-box {
            background: rgba(212, 175, 55, 0.15);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            border-right: 4px solid var(--gold);
        }

        .highlight-box p {
            margin-bottom: 0;
            font-size: 13px;
        }

        /* Location Settings Card */
        .location-settings-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .location-settings-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--gold) 0%, var(--gold-light) 50%, var(--gold) 100%);
        }

        .location-option {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .location-option:last-child {
            margin-bottom: 0;
        }

        .location-option.active {
            border-color: var(--gold);
            background: rgba(212, 175, 55, 0.15);
        }

        .location-option-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }

        .location-option-icon {
            font-size: 24px;
        }

        .location-option-title {
            font-family: 'Cairo', sans-serif;
            font-size: 16px;
            font-weight: 700;
            color: var(--gold-light);
        }

        .location-option-desc {
            font-family: 'Cairo', sans-serif;
            font-size: 13px;
            color: rgba(255, 255, 255, 0.8);
        }

        .location-select-wrapper {
            margin-top: 12px;
            display: none;
        }

        .location-option.active .location-select-wrapper {
            display: block;
        }

        .location-select {
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid var(--gold);
            border-radius: 10px;
            padding: 12px 15px;
            font-family: 'Cairo', sans-serif;
            font-size: 14px;
            color: var(--primary-green);
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%230d4d2f' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: left 15px center;
            padding-left: 40px;
        }

        .location-select:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.3);
        }

        .location-status {
            margin-top: 12px;
            padding: 12px;
            background: rgba(212, 175, 55, 0.15);
            border-radius: 10px;
            border-right: 3px solid var(--gold);
            font-size: 13px;
            color: var(--gold-light);
            display: none;
        }

        .location-status.show {
            display: block;
        }

        .location-btn {
            width: 100%;
            background: linear-gradient(145deg, var(--gold) 0%, #c4a030 100%);
            color: var(--primary-green);
            border: none;
            border-radius: 10px;
            padding: 12px 20px;
            font-family: 'Cairo', sans-serif;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 12px;
            display: none;
        }

        .location-option.active .location-btn {
            display: block;
        }

        .location-btn:active {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.4);
        }

        .location-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .section-title {
            font-family: 'Cairo', sans-serif;
            font-size: 16px;
            font-weight: 700;
            color: var(--gold-light);
            margin: 20px 0 10px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Responsive adjustments */
        @media (max-width: 380px) {
            .header-title .arabic {
                font-size: 18px;
            }

            .settings-card h2,
            .donation-section h2,
            .contact-section h2 {
                font-size: 18px;
            }

            .settings-card p,
            .donation-section p,
            .contact-section p {
                font-size: 13px;
            }
        }
    </style>
</head>
<body>
    <div class="pattern-overlay"></div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-icon" onclick="window.history.back()">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                </svg>
            </div>
            <div class="header-title">
                <span class="arabic">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
                <span class="english">Settings</span>
            </div>
            <div class="header-icon"></div>
        </header>

        <!-- Content -->
        <div class="content-section">
            <!-- Location Settings Card -->
            <div class="location-settings-card">
                <h2><span class="icon">ğŸ“</span> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹</h2>
                <p style="margin-bottom: 15px;">
                    Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ Ù„Ø­Ø³Ø§Ø¨ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ØµÙ„Ø§Ø© ÙˆØ§ØªØ¬Ø§Ù‡ Ø§Ù„Ù‚Ø¨Ù„Ø© Ø¨Ø¯Ù‚Ø©
                </p>

                <!-- Manual Location Option -->
                <div class="location-option" id="manualOption" onclick="selectLocationMode('manual')">
                    <div class="location-option-header">
                        <span class="location-option-icon">ğŸ™ï¸</span>
                        <span class="location-option-title">ØªØ­Ø¯ÙŠØ¯ ÙŠØ¯ÙˆÙŠ</span>
                    </div>
                    <p class="location-option-desc">Ø§Ø®ØªØ± Ù…Ø¯ÙŠÙ†Ø© Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ ÙŠØ¯ÙˆÙŠØ§Ù‹</p>
                    <div class="location-select-wrapper">
                        <select class="location-select" id="citySelect" onchange="saveManualLocation()">
                            <option value="">-- Ø§Ø®ØªØ± Ù…Ø¯ÙŠÙ†Ø© --</option>
                            <option value="tetouan">ØªØ·ÙˆØ§Ù†ØŒ Ø§Ù„Ù…ØºØ±Ø¨</option>
                            <option value="casablanca">Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡ØŒ Ø§Ù„Ù…ØºØ±Ø¨</option>
                            <option value="rabat">Ø§Ù„Ø±Ø¨Ø§Ø·ØŒ Ø§Ù„Ù…ØºØ±Ø¨</option>
                            <option value="marrakech">Ù…Ø±Ø§ÙƒØ´ØŒ Ø§Ù„Ù…ØºØ±Ø¨</option>
                            <option value="fes">ÙØ§Ø³ØŒ Ø§Ù„Ù…ØºØ±Ø¨</option>
                            <option value="tangier">Ø·Ù†Ø¬Ø©ØŒ Ø§Ù„Ù…ØºØ±Ø¨</option>
                            <option value="agadir">Ø£ÙƒØ§Ø¯ÙŠØ±ØŒ Ø§Ù„Ù…ØºØ±Ø¨</option>
                            <option value="meknes">Ù…ÙƒÙ†Ø§Ø³ØŒ Ø§Ù„Ù…ØºØ±Ø¨</option>
                            <option value="oujda">ÙˆØ¬Ø¯Ø©ØŒ Ø§Ù„Ù…ØºØ±Ø¨</option>
                            <option value="kenitra">Ø§Ù„Ù‚Ù†ÙŠØ·Ø±Ø©ØŒ Ø§Ù„Ù…ØºØ±Ø¨</option>
                            <option value="cairo">Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©ØŒ Ù…ØµØ±</option>
                            <option value="alexandria">Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©ØŒ Ù…ØµØ±</option>
                            <option value="riyadh">Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</option>
                            <option value="makkah">Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©ØŒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</option>
                            <option value="madinah">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©ØŒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</option>
                            <option value="jeddah">Ø¬Ø¯Ø©ØŒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</option>
                            <option value="dammam">Ø§Ù„Ø¯Ù…Ø§Ù…ØŒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</option>
                            <option value="dubai">Ø¯Ø¨ÙŠØŒ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</option>
                            <option value="abudhabi">Ø£Ø¨ÙˆØ¸Ø¨ÙŠØŒ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</option>
                            <option value="kuwait">Ø§Ù„ÙƒÙˆÙŠØªØŒ Ø§Ù„ÙƒÙˆÙŠØª</option>
                            <option value="doha">Ø§Ù„Ø¯ÙˆØ­Ø©ØŒ Ù‚Ø·Ø±</option>
                            <option value="manama">Ø§Ù„Ù…Ù†Ø§Ù…Ø©ØŒ Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†</option>
                            <option value="muscat">Ù…Ø³Ù‚Ø·ØŒ Ø¹Ù…Ø§Ù†</option>
                            <option value="amman">Ø¹Ù…Ø§Ù†ØŒ Ø§Ù„Ø£Ø±Ø¯Ù†</option>
                            <option value="beirut">Ø¨ÙŠØ±ÙˆØªØŒ Ù„Ø¨Ù†Ø§Ù†</option>
                            <option value="damascus">Ø¯Ù…Ø´Ù‚ØŒ Ø³ÙˆØ±ÙŠØ§</option>
                            <option value="jerusalem">Ø§Ù„Ù‚Ø¯Ø³ØŒ ÙÙ„Ø³Ø·ÙŠÙ†</option>
                            <option value="istanbul">Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„ØŒ ØªØ±ÙƒÙŠØ§</option>
                            <option value="ankara">Ø£Ù†Ù‚Ø±Ø©ØŒ ØªØ±ÙƒÙŠØ§</option>
                            <option value="paris">Ø¨Ø§Ø±ÙŠØ³ØŒ ÙØ±Ù†Ø³Ø§</option>
                            <option value="london">Ù„Ù†Ø¯Ù†ØŒ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù…ØªØ­Ø¯Ø©</option>
                            <option value="berlin">Ø¨Ø±Ù„ÙŠÙ†ØŒ Ø£Ù„Ù…Ø§Ù†ÙŠØ§</option>
                            <option value="newyork">Ù†ÙŠÙˆÙŠÙˆØ±ÙƒØŒ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø©</option>
                            <option value="losangeles">Ù„ÙˆØ³ Ø£Ù†Ø¬Ù„ÙˆØ³ØŒ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø©</option>
                        </select>
                    </div>
                    <div class="location-status" id="manualStatus"></div>
                </div>

                <!-- Automatic Location Option -->
                <div class="location-option" id="autoOption" onclick="selectLocationMode('auto')">
                    <div class="location-option-header">
                        <span class="location-option-icon">ğŸ“¡</span>
                        <span class="location-option-title">ØªØ­Ø¯ÙŠØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠ</span>
                    </div>
                    <p class="location-option-desc">Ø§Ø³ØªØ®Ø¯Ù… GPS Ù„ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</p>
                    <button class="location-btn" id="detectLocationBtn">
                        ğŸ“ ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ
                    </button>
                    <div class="location-status" id="autoStatus"></div>
                </div>
            </div>

            <!-- Privacy Policy Card -->
            <div class="settings-card">
                <h2><span class="icon">ğŸ”’</span> Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</h2>
                <p>
                    Ù†Ø­Ù† Ù†Ø­ØªØ±Ù… Ø®ØµÙˆØµÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆÙ†Ù„ØªØ²Ù… Ø¨Ø­Ù…Ø§ÙŠØªÙ‡Ø§.
                </p>
                <p>
                    ÙŠØ¹Ù…Ù„ Ù‡Ø°Ø§ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ù„ØªÙ‚Ø¯ÙŠÙ… Ø®Ø¯Ù…Ø§ØªÙ‡ØŒ ÙˆÙ„Ø§ ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø®ÙˆØ§Ø¯Ù… Ø®Ø§ØµØ© Ù„ØªØ®Ø²ÙŠÙ† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†.
                </p>
                <p>
                    Ù„Ø§ ÙŠÙ‚ÙˆÙ… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ø¬Ù…Ø¹ Ø£Ùˆ ØªØ®Ø²ÙŠÙ† Ø£Ùˆ Ù…Ø´Ø§Ø±ÙƒØ© Ø£ÙŠ Ø¨ÙŠØ§Ù†Ø§Øª Ø´Ø®ØµÙŠØ© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ØŒ Ù…Ø«Ù„ Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ.
                </p>
                <p>
                    Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¯Ø§Ø®Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ (Ù…Ø«Ù„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø£Ùˆ Ù…ÙˆØ¶Ø¹ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©) ØªÙØ­ÙØ¸ Ù…Ø­Ù„ÙŠÙ‹Ø§ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙ‚Ø·ØŒ ÙˆÙ„Ø§ ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„Ù‡Ø§ Ø¥Ù„Ù‰ Ø£ÙŠ Ø¬Ù‡Ø© Ø®Ø§Ø±Ø¬ÙŠØ©.
                </p>
                <p>
                    Ù„Ø§ Ù†Ø´Ø§Ø±Ùƒ Ø£ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ø¹ Ø£Ø·Ø±Ø§Ù Ø«Ø§Ù„Ø«Ø©.
                </p>
                <p>
                    Ù†Ù„ØªØ²Ù… Ø¨Ø§ØªØ®Ø§Ø° Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ø­Ù…Ø§ÙŠØ© Ø®ØµÙˆØµÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….
                </p>
            </div>

            <!-- Donation Section -->
            <div class="donation-section">
                <h2>ğŸ¤² Ø¯Ø¹Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</h2>
                <p>
                    Ù†Ø¹Ù…Ù„ Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø¹Ù„Ù‰ ØªØ·ÙˆÙŠØ± ÙˆØªØ­Ø³ÙŠÙ† ØªØ·Ø¨ÙŠÙ‚ "Ø·Ø±ÙŠÙ‚ Ø§Ù„ÙŠÙ‚ÙŠÙ†" Ù„ÙŠÙƒÙˆÙ† Ø£Ø¯Ø§Ø© Ù†Ø§ÙØ¹Ø© ÙˆÙ…ÙÙŠØ¯Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†.
                </p>
                <p>
                    Ø¯Ø¹Ù…Ùƒ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ³Ø§Ø¹Ø¯Ù†Ø§ Ø¹Ù„Ù‰:
                </p>
                <ul>
                    <li>Ø¥Ø¶Ø§ÙØ© Ù…ÙŠØ²Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© ÙˆØªØ­Ø³ÙŠÙ†Ø§Øª Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©</li>
                    <li>ØªØ­Ø³ÙŠÙ† Ø£Ø¯Ø§Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</li>
                    <li>ØªØºØ·ÙŠØ© ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„ØªØ´ØºÙŠÙ„ ÙˆØ§Ù„ØµÙŠØ§Ù†Ø©</li>
                    <li>Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± ÙÙŠ ØªÙˆÙÙŠØ± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø¬Ø§Ù†Ù‹Ø§</li>
                </ul>
                <p style="margin-top: 15px;">
                    ÙŠÙ…ÙƒÙ†ÙƒÙ… Ø¯Ø¹Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ø®ØªÙŠØ§Ø±ÙŠÙ‹Ø§ Ø¹Ø¨Ø±:
                </p>
                <div class="donation-options">
                    <button class="donation-btn" onclick="window.open('https://www.paypal.com/paypalme/sryossofficial', '_blank')">
                        <span class="icon">ğŸ’³</span>
                        Ø§Ù„ØªØ¨Ø±Ø¹ Ø¹Ø¨Ø± PayPal
                    </button>
                </div>
                <p style="margin-top: 12px; font-size: 12px; opacity: 0.8;">
                    Ø§Ù„ØªØ¨Ø±Ø¹ Ø§Ø®ØªÙŠØ§Ø±ÙŠ ØªÙ…Ø§Ù…Ù‹Ø§ ÙˆÙ„Ø§ ÙŠØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø£Ùˆ Ù…Ø­ØªÙˆØ§Ù‡.
                </p>
            </div>

            <!-- Contact Section -->
            <div class="contact-section">
                <h2>ğŸ“§ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h2>
                <p>
                    ÙÙŠ Ø­Ø§Ù„ ÙˆØ¬ÙˆØ¯ Ø£ÙŠ Ø§Ø³ØªÙØ³Ø§Ø± Ø£Ùˆ Ø§Ù‚ØªØ±Ø§Ø­ Ø£Ùˆ Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù† Ù…Ø´ÙƒÙ„Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ØŒ ÙŠØ³Ø¹Ø¯Ù†Ø§ ØªÙˆØ§ØµÙ„ÙƒÙ… Ù…Ø¹Ù†Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:
                </p>
                <div class="contact-email">
                    contact.sryozz@gmail.com
                </div>
                <p style="margin-top: 15px; font-size: 13px;">
                    Ù†Ø­Ø±Øµ Ø¹Ù„Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙˆØ§Ù„Ø±Ø¯ Ø¹Ù„ÙŠÙ‡Ø§ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª Ù…Ù…ÙƒÙ†.
                </p>
            </div>
        </div>
    </div>

    <script>
        // Cities database with coordinates
        const CITIES = {
            tetouan: { name: 'ØªØ·ÙˆØ§Ù†ØŒ Ø§Ù„Ù…ØºØ±Ø¨', nameEn: 'Tetouan, Morocco', lat: 35.5889, lng: -5.3626 },
            casablanca: { name: 'Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡ØŒ Ø§Ù„Ù…ØºØ±Ø¨', nameEn: 'Casablanca, Morocco', lat: 33.5731, lng: -7.5898 },
            rabat: { name: 'Ø§Ù„Ø±Ø¨Ø§Ø·ØŒ Ø§Ù„Ù…ØºØ±Ø¨', nameEn: 'Rabat, Morocco', lat: 34.0209, lng: -6.8416 },
            marrakech: { name: 'Ù…Ø±Ø§ÙƒØ´ØŒ Ø§Ù„Ù…ØºØ±Ø¨', nameEn: 'Marrakech, Morocco', lat: 31.6295, lng: -7.9811 },
            fes: { name: 'ÙØ§Ø³ØŒ Ø§Ù„Ù…ØºØ±Ø¨', nameEn: 'Fes, Morocco', lat: 34.0181, lng: -5.0078 },
            tangier: { name: 'Ø·Ù†Ø¬Ø©ØŒ Ø§Ù„Ù…ØºØ±Ø¨', nameEn: 'Tangier, Morocco', lat: 35.7595, lng: -5.8340 },
            agadir: { name: 'Ø£ÙƒØ§Ø¯ÙŠØ±ØŒ Ø§Ù„Ù…ØºØ±Ø¨', nameEn: 'Agadir, Morocco', lat: 30.4278, lng: -9.5981 },
            meknes: { name: 'Ù…ÙƒÙ†Ø§Ø³ØŒ Ø§Ù„Ù…ØºØ±Ø¨', nameEn: 'Meknes, Morocco', lat: 33.8935, lng: -5.5473 },
            oujda: { name: 'ÙˆØ¬Ø¯Ø©ØŒ Ø§Ù„Ù…ØºØ±Ø¨', nameEn: 'Oujda, Morocco', lat: 34.6867, lng: -1.9114 },
            kenitra: { name: 'Ø§Ù„Ù‚Ù†ÙŠØ·Ø±Ø©ØŒ Ø§Ù„Ù…ØºØ±Ø¨', nameEn: 'Kenitra, Morocco', lat: 34.2610, lng: -6.5802 },
            cairo: { name: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©ØŒ Ù…ØµØ±', nameEn: 'Cairo, Egypt', lat: 30.0444, lng: 31.2357 },
            alexandria: { name: 'Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©ØŒ Ù…ØµØ±', nameEn: 'Alexandria, Egypt', lat: 31.2001, lng: 29.9187 },
            riyadh: { name: 'Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©', nameEn: 'Riyadh, Saudi Arabia', lat: 24.7136, lng: 46.6753 },
            makkah: { name: 'Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©ØŒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©', nameEn: 'Makkah, Saudi Arabia', lat: 21.4225, lng: 39.8262 },
            madinah: { name: 'Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©ØŒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©', nameEn: 'Madinah, Saudi Arabia', lat: 24.5247, lng: 39.5692 },
            jeddah: { name: 'Ø¬Ø¯Ø©ØŒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©', nameEn: 'Jeddah, Saudi Arabia', lat: 21.5433, lng: 39.1728 },
            dammam: { name: 'Ø§Ù„Ø¯Ù…Ø§Ù…ØŒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©', nameEn: 'Dammam, Saudi Arabia', lat: 26.4262, lng: 50.0626 },
            dubai: { name: 'Ø¯Ø¨ÙŠØŒ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª', nameEn: 'Dubai, UAE', lat: 25.2048, lng: 55.2708 },
            abudhabi: { name: 'Ø£Ø¨ÙˆØ¸Ø¨ÙŠØŒ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª', nameEn: 'Abu Dhabi, UAE', lat: 24.4539, lng: 54.3773 },
            kuwait: { name: 'Ø§Ù„ÙƒÙˆÙŠØªØŒ Ø§Ù„ÙƒÙˆÙŠØª', nameEn: 'Kuwait City, Kuwait', lat: 29.3759, lng: 47.9774 },
            doha: { name: 'Ø§Ù„Ø¯ÙˆØ­Ø©ØŒ Ù‚Ø·Ø±', nameEn: 'Doha, Qatar', lat: 25.2854, lng: 51.5310 },
            manama: { name: 'Ø§Ù„Ù…Ù†Ø§Ù…Ø©ØŒ Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†', nameEn: 'Manama, Bahrain', lat: 26.0667, lng: 50.5577 },
            muscat: { name: 'Ù…Ø³Ù‚Ø·ØŒ Ø¹Ù…Ø§Ù†', nameEn: 'Muscat, Oman', lat: 23.5859, lng: 58.3829 },
            amman: { name: 'Ø¹Ù…Ø§Ù†ØŒ Ø§Ù„Ø£Ø±Ø¯Ù†', nameEn: 'Amman, Jordan', lat: 31.9539, lng: 35.9106 },
            beirut: { name: 'Ø¨ÙŠØ±ÙˆØªØŒ Ù„Ø¨Ù†Ø§Ù†', nameEn: 'Beirut, Lebanon', lat: 33.8938, lng: 35.5018 },
            damascus: { name: 'Ø¯Ù…Ø´Ù‚ØŒ Ø³ÙˆØ±ÙŠØ§', nameEn: 'Damascus, Syria', lat: 33.5138, lng: 36.2765 },
            jerusalem: { name: 'Ø§Ù„Ù‚Ø¯Ø³ØŒ ÙÙ„Ø³Ø·ÙŠÙ†', nameEn: 'Jerusalem, Palestine', lat: 31.7683, lng: 35.2137 },
            istanbul: { name: 'Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„ØŒ ØªØ±ÙƒÙŠØ§', nameEn: 'Istanbul, Turkey', lat: 41.0082, lng: 28.9784 },
            ankara: { name: 'Ø£Ù†Ù‚Ø±Ø©ØŒ ØªØ±ÙƒÙŠØ§', nameEn: 'Ankara, Turkey', lat: 39.9334, lng: 32.8597 },
            paris: { name: 'Ø¨Ø§Ø±ÙŠØ³ØŒ ÙØ±Ù†Ø³Ø§', nameEn: 'Paris, France', lat: 48.8566, lng: 2.3522 },
            london: { name: 'Ù„Ù†Ø¯Ù†ØŒ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù…ØªØ­Ø¯Ø©', nameEn: 'London, UK', lat: 51.5074, lng: -0.1278 },
            berlin: { name: 'Ø¨Ø±Ù„ÙŠÙ†ØŒ Ø£Ù„Ù…Ø§Ù†ÙŠØ§', nameEn: 'Berlin, Germany', lat: 52.5200, lng: 13.4050 },
            newyork: { name: 'Ù†ÙŠÙˆÙŠÙˆØ±ÙƒØŒ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø©', nameEn: 'New York, USA', lat: 40.7128, lng: -74.0060 },
            losangeles: { name: 'Ù„ÙˆØ³ Ø£Ù†Ø¬Ù„ÙˆØ³ØŒ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø©', nameEn: 'Los Angeles, USA', lat: 34.0522, lng: -118.2437 }
        };

        // Initialize location settings
        let currentMode = 'manual';
        let currentCity = 'tetouan';

        function initLocationSettings() {
            // Load saved settings
            const savedMode = localStorage.getItem('locationMode');
            const savedCity = localStorage.getItem('selectedCity');
            const savedAutoLocation = localStorage.getItem('autoLocation');

            if (savedMode) {
                currentMode = savedMode;
                currentCity = savedCity || 'tetouan';
            }

            // Set the UI based on saved settings
            selectLocationMode(currentMode, false);

            if (currentMode === 'manual' && savedCity) {
                document.getElementById('citySelect').value = savedCity;
                updateManualStatus(savedCity);
            } else if (currentMode === 'auto' && savedAutoLocation) {
                try {
                    const locationData = JSON.parse(savedAutoLocation);
                    updateAutoStatus(true, locationData);
                } catch (e) {
                    // Ignore parsing errors
                }
            }
        }

        function selectLocationMode(mode, save = true) {
            currentMode = mode;

            // Remove active class from both options
            document.getElementById('manualOption').classList.remove('active');
            document.getElementById('autoOption').classList.remove('active');

            // Add active class to selected option
            if (mode === 'manual') {
                document.getElementById('manualOption').classList.add('active');
            } else {
                document.getElementById('autoOption').classList.add('active');
            }

            // Save the setting
            if (save) {
                localStorage.setItem('locationMode', mode);

                // Clear the other mode's status
                if (mode === 'manual') {
                    document.getElementById('autoStatus').classList.remove('show');
                    localStorage.removeItem('autoLocation');

                    // Trigger manual location save if city is selected
                    const citySelect = document.getElementById('citySelect');
                    if (citySelect.value) {
                        saveManualLocation();
                    }
                } else {
                    document.getElementById('manualStatus').classList.remove('show');
                    localStorage.removeItem('selectedCity');
                }
            }
        }

        function saveManualLocation() {
            const citySelect = document.getElementById('citySelect');
            const selectedCity = citySelect.value;

            if (!selectedCity) {
                document.getElementById('manualStatus').classList.remove('show');
                return;
            }

            // Save to localStorage
            localStorage.setItem('selectedCity', selectedCity);
            localStorage.setItem('locationMode', 'manual');
            localStorage.removeItem('autoLocation');

            updateManualStatus(selectedCity);
        }

        function updateManualStatus(cityKey) {
            const city = CITIES[cityKey];
            if (city) {
                const statusEl = document.getElementById('manualStatus');
                statusEl.innerHTML = `âœ… ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹: ${city.name}`;
                statusEl.classList.add('show');
            }
        }

        function detectLocation(event) {
            event.stopPropagation();
            event.preventDefault(); // Prevent any default behavior

            if (!navigator.geolocation) {
                updateAutoStatus(false, null, 'Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹');
                return;
            }

            const btn = document.getElementById('detectLocationBtn');
            btn.disabled = true;
            btn.textContent = 'â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ¯...';

            updateAutoStatus(false, null, 'â³ Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ...');

            navigator.geolocation.getCurrentPosition(
                function(position) {
                    const locationData = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude,
                        accuracy: position.coords.accuracy
                    };

                    // Save to localStorage
                    localStorage.setItem('autoLocation', JSON.stringify(locationData));
                    localStorage.setItem('locationMode', 'auto');
                    localStorage.removeItem('selectedCity');

                    updateAutoStatus(true, locationData);

                    btn.disabled = false;
                    btn.textContent = 'ğŸ“ ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ';
                },
                function(error) {
                    let errorMessage = '';
                    switch(error.code) {
                        case error.PERMISSION_DENIED:
                            errorMessage = 'ØªÙ… Ø±ÙØ¶ Ø¥Ø°Ù† ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØµÙØ­.';
                            break;
                        case error.POSITION_UNAVAILABLE:
                            errorMessage = 'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ ØºÙŠØ± Ù…ØªÙˆÙØ±Ø©.';
                            break;
                        case error.TIMEOUT:
                            errorMessage = 'Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø·Ù„Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹.';
                            break;
                        default:
                            errorMessage = 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹.';
                    }

                    updateAutoStatus(false, null, errorMessage);

                    btn.disabled = false;
                    btn.textContent = 'ğŸ“ ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ';
                },
                {
                    enableHighAccuracy: true,
                    timeout: 10000,
                    maximumAge: 0
                }
            );
        }

        function updateAutoStatus(success, locationData, customMessage) {
            const statusEl = document.getElementById('autoStatus');

            if (success && locationData) {
                statusEl.innerHTML = `âœ… ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹<br>
                    <span style="font-size: 11px; opacity: 0.8;">
                        Ø§Ù„Ø¯Ù‚Ø©: ${Math.round(locationData.accuracy)} Ù…ØªØ±
                    </span>`;
                statusEl.classList.add('show');
            } else if (customMessage) {
                statusEl.innerHTML = `âŒ ${customMessage}`;
                statusEl.classList.add('show');
            } else {
                statusEl.classList.remove('show');
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initLocationSettings();

            // Add click event listener for GPS button
            const detectBtn = document.getElementById('detectLocationBtn');
            if (detectBtn) {
                detectBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    e.preventDefault();
                    detectLocation(e);
                });
            }
        });

        // Add haptic feedback simulation for Android
        document.querySelectorAll('.header-icon, .donation-btn, .location-btn').forEach(function(element) {
            element.addEventListener('touchstart', function() {
                if (navigator.vibrate) {
                    navigator.vibrate(10);
                }
            });
        });

        // Disable text selection for app-like feel
        document.addEventListener('selectstart', function(e) {
            e.preventDefault();
        });

        // Prevent double-tap zoom
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(event) {
            const now = Date.now();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
    </script>
</body>
</html>
